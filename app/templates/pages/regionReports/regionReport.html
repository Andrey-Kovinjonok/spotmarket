<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}

<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">{{ regionName }}</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Ship Jumps
                </div>
            </div>
            <div class="d3-graph-shipjumps-{{ regionID }}"></div>
            <script>
                graphJumps({
                    width: 720,
                    height: 340,
                    ylegend: 'ship jumps',
                    selector: '.d3-graph-shipjumps-{{ regionID }}',
                    json: '/api/map/jumps/region/{{ regionID }}'
                });
            </script>

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> NPC Kills
                </div>
            </div>
            <div class="d3-graph-npckills-{{ regionID }}"></div>
            <script>
                graphJumps({
                    width: 720,
                    height: 340,
                    ylegend: 'npc kills',
                    selector: '.d3-graph-npckills-{{ regionID }}',
                    json: '/api/map/npckills/region/{{ regionID }}'
                });
            </script>

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Ship Kills
                </div>
            </div>
            <div class="d3-graph-shipkills-{{ regionID }}"></div>
            <script>
                graphJumps({
                    width: 720,
                    height: 340,
                    ylegend: 'ship kills',
                    selector: '.d3-graph-shipkills-{{ regionID }}',
                    json: '/api/map/shipkills/region/{{ regionID }}'
                });
            </script>

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Pod Kills
                </div>
            </div>
            <div class="d3-graph-podkills-{{ regionID }}"></div>
            <script>
                graphJumps({
                    width: 720,
                    height: 340,
                    ylegend: 'pod kills',
                    selector: '.d3-graph-podkills-{{ regionID }}',
                    json: '/api/map/podkills/region/{{ regionID }}'
                });
            </script>

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Killmails
                </div>
                <div class="panel-body">
                <table data-toggle="table"
                       data-sort-name="timestamp"
                       data-sort-order="desc"
                       data-show-refresh="true"
                       data-striped="true"
                       data-show-toggle="true"
                       data-search="true"
                       data-url="//api/killmails/region/{{ regionID }}"
                       data-pagination="true"
                       data-page-size="50"
                       data-page-list="[50, 100, 200]"
                       data-height="400">
                <thead>
                    <tr>
                        <th data-field="timestamp" data-align="right">timestamp</th>
                        <th data-field="typeID" data-formatter="invTypeIconFormatter" data-width=32px data-align="right"></th>
                        <th data-field="typeName" data-sortable="true" data-align="right">typeName</th>
                        <th data-field="totalValue" data-sortable="true" data-align="right">totalValue</th>
                        <th data-field="attackerCount" data-sortable="true" data-align="right">attackerCount</th>
                        <th data-field="damageTaken" data-sortable="true" data-align="right">damagetaken</th>
                        <th data-field="solarSystemName" data-align="right">solarSystemName</th>
                        <th data-field="security" data-formatter="numberDec" data-align="right">security</th>
                        <th data-field="allianceName" data-align="right">allianceName</th>
                    </tr>
                </thead>
                </table>
                </div>
            </div>

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Top Ratting Systems
                </div>
                <div class="panel-body">
                <table data-toggle="table"
                       data-sort-name="SUM_factionKills"
                       data-sort-order="desc"
                       data-show-refresh="true"
                       data-striped="true"
                       data-show-toggle="true"
                       data-search="true"
                       data-url="/api/gettoprattingbyregion/{{ regionID }}"
                       data-height="400">
                <thead>
                    <tr>
                        <th data-field="solarSystemName" data-align="right">solarSystemName</th>
                        <th data-field="security" data-formatter="numberDec" data-align="right">security</th>
                        <th data-field="allianceID" data-formatter="allianceIconFormatter" data-width=32px></th>
                        <th data-field="ticker" data-align="right">ticker</th>
                        <th data-field="name" data-align="right">name</th>
                        <th data-field="SUM_factionKills" data-formatter="numberDec" data-align="right">SUM_factionKills</th>
                    </tr>
                </thead>
                </table>
                </div>
            </div>
        </div><!-- /.col-lg-12 -->
    </div><!-- /.row -->

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-stats"></span> Moon Minerals
                </div>
                <div class="panel-body">
                <table data-toggle="table"
                       data-sort-name="moonID"
                       data-sort-order="desc"
                       data-show-refresh="true"
                       data-striped="true"
                       data-show-toggle="true"
                       data-search="true"
                       data-url="/api/moonminerals/regionid/{{ regionID }}"
                       data-height="600">
                <thead>
                    <tr>
                        <th data-field="typeID" data-formatter="invTypeIconFormatter" data-width=32px data-align="right"></th>
                        <th data-field="typeName" data-align="right">typeName</th>
                        <th data-field="itemName" data-align="right">itemName</th>
                        <th data-field="solarSystemName" data-align="right">solarSystemName</th>
                        <th data-field="security" data-formatter="numberDec" data-align="right">security</th>
                        <th data-field="allianceID" data-formatter="allianceIconFormatter" data-width=32px></th>
                        <th data-field="ticker" data-align="right">ticker</th>
                        <th data-field="name" data-align="right">name</th>

                    </tr>
                </thead>
                </table>
                </div>
            </div>
        </div><!-- /.col-lg-12 -->
    </div><!-- /.row -->

        <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
</div>
<!-- /#page-wrapper -->

{% endblock %}